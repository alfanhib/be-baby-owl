# Module 2: User Registration & Onboarding

**Module ID:** M02  
**Module Name:** User Registration & Onboarding  
**Priority:** ğŸ”´ Critical (Phase 1, Sprint 1-2)  
**Story Points:** 38 points  
**Owner:** Backend Team + Frontend Team

---

## ğŸ“‹ Module Overview

### Purpose

This module handles **user account creation** through multiple channels (self-registration, admin-created accounts via Quick Enrollment Tool, and set-password flow for new accounts). It also includes the **onboarding experience** to help new users get started with the platform.

### Business Value

- **Accessibility:** Multiple ways to create accounts (self-service + admin-assisted)
- **First Impressions:** Smooth onboarding reduces bounce rate
- **Conversion:** Easy registration increases student signups
- **Efficiency:** Admin tools speed up enrollment process (5 min per student)

### Success Metrics

- Self-registration completion rate: >70%
- Admin account creation time: <5 minutes per student
- Onboarding completion rate: >85%
- Set-password link success rate: >95%

---

## ğŸ‘¥ User Roles

- **Student (Self-Registering):** Can create own account to explore platform
- **Admin/Staff:** Creates accounts for students who purchased via WhatsApp
- **New User (First Login):** Sets password via secure link, completes onboarding

---

## ğŸ“š User Stories

### Story 1.2.1: Self-Registration (Student Can Sign Up)

**Story Points:** 8  
**Priority:** ğŸ”´ Critical  
**Sprint:** Sprint 1

#### User Story

```
AS A prospective student
I WANT TO create my own account on the LMS
SO THAT I can explore courses and potentially enroll
```

#### Acceptance Criteria

**AC1: Registration Page Access**

- GIVEN I am on the login page
- WHEN I click "Don't have an account? Sign Up"
- THEN I am redirected to `/register` page

**AC2: Registration Form Display**

- GIVEN I am on `/register` page
- WHEN the page loads
- THEN I should see:
  - "Create Your Account" heading
  - "Full Name" input field (text)
  - "Email" input field (email type)
  - "Password" input field (password type, masked)
  - "Confirm Password" input field (password type, masked)
  - Password strength indicator (Weak/Medium/Strong)
  - Password requirements list:
    - At least 8 characters
    - At least 1 uppercase letter
    - At least 1 lowercase letter
    - At least 1 number
    - At least 1 special character
  - "I agree to Terms & Privacy Policy" checkbox
  - "Sign Up" button (primary CTA)
  - "Already have an account? Login" link
  - Logo and branding

**AC3: Successful Registration**

- GIVEN I fill all fields with valid data
- WHEN I click "Sign Up" button
- THEN:
  - API call to `POST /api/auth/register`
  - User account created (role: "student", status: "active")
  - Password hashed (bcrypt, salt rounds: 10-12)
  - Welcome email sent (subject: "Welcome to LMS Baby Owl!")
  - Auto-login (JWT token generated, stored)
  - Redirected to onboarding flow (`/onboarding/welcome`)
  - Success toast: "Account created successfully!"

**AC4: Form Validation (Client-Side)**

- GIVEN I am filling the registration form
- WHEN I enter invalid data
- THEN I should see validation errors:
  - Full Name empty: "Name is required"
  - Full Name too short (<2 chars): "Name must be at least 2 characters"
  - Email empty: "Email is required"
  - Email invalid format: "Please enter a valid email"
  - Password empty: "Password is required"
  - Password doesn't meet requirements: "Password must meet all requirements"
  - Passwords don't match: "Passwords do not match"
  - Terms not accepted: "You must accept the Terms & Privacy Policy"

**AC5: Email Already Registered**

- GIVEN I enter an email that's already registered
- WHEN I submit the form
- THEN:
  - API returns 409 Conflict
  - Error message: "An account with this email already exists. Try logging in instead."
  - "Go to Login" button

**AC6: Password Strength Indicator**

- GIVEN I am typing in the password field
- WHEN I type each character
- THEN:
  - Password strength updates in real-time:
    - **Weak:** <8 chars OR missing requirements (red)
    - **Medium:** 8+ chars, meets 3/4 requirements (yellow)
    - **Strong:** 8+ chars, meets all requirements (green)
  - Visual indicator (progress bar or badge)

**AC7: Show/Hide Password Toggle**

- GIVEN I am typing a password
- WHEN I click the "Show Password" icon (eye icon)
- THEN:
  - Password field changes to text type (visible)
  - Icon changes to "Hide Password" (crossed eye)
  - Click again â†’ password masked again

---

#### Edge Cases

**E1: Network Error During Registration**

- If API unreachable:
  - Show error: "Unable to create account. Please check your internet connection."
  - Retry button

**E2: Email Service Down (Welcome Email Fails)**

- If welcome email fails to send:
  - Account still created (don't block registration)
  - Log error (backend)
  - Retry email send (background job)

**E3: Name with Special Characters**

- Allow international characters (Ã©, Ã±, ä¸­æ–‡, etc.)
- Allow spaces, hyphens, apostrophes
- Trim whitespace

**E4: Very Long Name (>100 chars)**

- Show error: "Name must be less than 100 characters"

**E5: Rate Limiting (Spam Prevention)**

- Max 3 registration attempts per IP per hour
- After limit: "Too many registration attempts. Please try again later."

**E6: Terms & Privacy Policy Links**

- Links open in new tab (target="\_blank")
- User can read without losing form data

---

#### API Contract

**Endpoint:** `POST /api/auth/register`

**Request Body:**

```json
{
  "fullName": "Sarah Ahmad",
  "email": "sarah@example.com",
  "password": "SecurePass123!",
  "agreeToTerms": true
}
```

**Response (Success - 201 Created):**

```json
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": "user_123",
      "email": "sarah@example.com",
      "name": "Sarah Ahmad",
      "role": "student",
      "avatar": null,
      "createdAt": "2025-12-01T10:00:00Z"
    }
  }
}
```

**Response (Error - 409 Conflict - Email Exists):**

```json
{
  "success": false,
  "error": {
    "code": "EMAIL_EXISTS",
    "message": "An account with this email already exists"
  }
}
```

**Response (Error - 400 Bad Request - Validation):**

```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Invalid input data",
    "details": {
      "email": "Invalid email format",
      "password": "Password must be at least 8 characters"
    }
  }
}
```

---

#### Dependencies

- Module 1 (Authentication - JWT generation, password hashing)
- Email service (welcome email)
- Terms & Privacy Policy pages

---

#### Test Scenarios

**TS1: Happy Path - Self-Registration**

1. Navigate to `/register`
2. Enter name: "Sarah Ahmad"
3. Enter email: "sarah@test.com"
4. Enter password: "Test1234!" (meets requirements)
5. Confirm password: "Test1234!"
6. Check "I agree to Terms..."
7. Click "Sign Up"
8. Verify success toast
9. Verify redirected to `/onboarding/welcome`
10. Verify welcome email sent
11. Verify user can navigate to dashboard

**TS2: Email Already Exists**

1. Register with email `existing@test.com`
2. Try to register again with same email
3. Verify error: "An account with this email already exists"

**TS3: Password Validation**

1. On `/register` page
2. Enter password: "weak" (doesn't meet requirements)
3. Verify strength indicator: "Weak" (red)
4. Verify validation error on submit
5. Update password to "StrongPass123!"
6. Verify strength indicator: "Strong" (green)
7. Verify form submits successfully

**TS4: Password Mismatch**

1. Enter password: "Test1234!"
2. Confirm password: "Test5678!" (different)
3. Click "Sign Up"
4. Verify error: "Passwords do not match"

---

#### UI/UX Notes

**Registration Page Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         [Logo]                      â”‚
â”‚                                     â”‚
â”‚      Create Your Account            â”‚
â”‚      Join thousands of learners     â”‚
â”‚                                     â”‚
â”‚  Full Name                          â”‚
â”‚  [________________________]         â”‚
â”‚                                     â”‚
â”‚  Email                              â”‚
â”‚  [________________________]         â”‚
â”‚                                     â”‚
â”‚  Password          [ğŸ‘ Show]        â”‚
â”‚  [________________________]         â”‚
â”‚  Strength: [â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘] Strong     â”‚
â”‚                                     â”‚
â”‚  Confirm Password  [ğŸ‘ Show]        â”‚
â”‚  [________________________]         â”‚
â”‚                                     â”‚
â”‚  Requirements:                      â”‚
â”‚  âœ… At least 8 characters           â”‚
â”‚  âœ… 1 uppercase letter              â”‚
â”‚  âœ… 1 lowercase letter              â”‚
â”‚  âœ… 1 number                        â”‚
â”‚  âœ… 1 special character             â”‚
â”‚                                     â”‚
â”‚  â˜ I agree to Terms & Privacy      â”‚
â”‚                                     â”‚
â”‚  [        Sign Up        ]          â”‚
â”‚                                     â”‚
â”‚  Already have an account? Login     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Colors:**

- Password strength (Weak): `ALERT_ERROR_100` (red)
- Password strength (Medium): `ALERT_WARNING_100` (yellow)
- Password strength (Strong): `ALERT_SUCCESS_100` (green)
- Button: `PRIMARY_200` background

---

#### Security Considerations

**S1: Password Hashing**

- Use bcrypt (salt rounds: 10-12)
- NEVER store plaintext passwords

**S2: Email Case Sensitivity**

- Store emails in lowercase (normalize)
- `sarah@example.com` === `SARAH@EXAMPLE.COM`

**S3: Rate Limiting**

- Prevent spam registrations (3 per IP per hour)
- Use Redis for tracking

**S4: SQL Injection Prevention**

- Use parameterized queries (ORM handles this)
- Validate all inputs

**S5: XSS Prevention**

- Escape user inputs (React does this by default)
- Sanitize full name (strip HTML tags)

---

---

### Story 1.2.2: Email Verification (Optional for MVP)

**Story Points:** 5  
**Priority:** ğŸŸ¡ Medium (Post-MVP)  
**Sprint:** Future

#### User Story

```
AS A platform
I WANT TO verify user email addresses
SO THAT I ensure emails are valid and reduce spam accounts
```

#### Acceptance Criteria

**AC1: Email Verification Required (Future Feature)**

- After registration, user receives verification email
- User must click verification link to activate account
- Until verified, show banner: "Please verify your email"

**For MVP:** Skip email verification (allow immediate access)

---

---

### Story 1.2.3: Staff-Created Accounts (Quick Enrollment Tool)

**Story Points:** 5  
**Priority:** ğŸ”´ Critical  
**Sprint:** Sprint 1-2

#### User Story

```
AS A staff member
I WANT TO quickly create a student account for students who purchased via WhatsApp
SO THAT I can enroll them in their course efficiently
```

**Note:** Super Admin can also access this feature, but primary user is Staff.

#### Acceptance Criteria

**AC1: Quick Enrollment Tool Access**

- GIVEN I am logged in as staff or super_admin
- WHEN I navigate to `/staff/enrollment/quick` (Quick Enrollment Tool)
- THEN I see a form to create new student account + enroll in class

**AC2: Create User Form (within Quick Enrollment)**

- Form includes:
  - "Full Name" input
  - "Email" input
  - "Phone Number" input (optional)
  - "Select Class" dropdown (list of active classes)
  - "Package" field - Meeting count inherited from selected class
  - "Payment Status" dropdown (Pending, Verified)
  - "Notes" textarea (optional, for internal use)
  - "Generate Set-Password Link" checkbox (checked by default)
  - "Send Welcome Email" checkbox (checked by default)
  - "Create & Enroll" button

**AC3: Successful User Creation + Enrollment**

- GIVEN staff fills all required fields
- WHEN staff clicks "Create & Enroll"
- THEN:
  - User account created (role: "student", status: "active")
  - Random temp password generated (user won't use this)
  - User enrolled in selected class
  - Set-password token generated (valid for 7 days)
  - Welcome email sent with set-password link
  - Success toast: "Student enrolled successfully!"
  - Show summary modal:
    - User details
    - Class name
    - Set-password link (copy button)
    - "Send Link via WhatsApp" button (opens wa.me with pre-filled message)
  - Redirect to enrollment history OR allow creating another enrollment

**AC4: Email Already Exists (Existing User)**

- GIVEN staff enters email that already exists
- WHEN staff submits form
- THEN:
  - Show warning: "User already exists. Enrolling existing user in class."
  - Skip user creation, just enroll existing user in class
  - Success toast: "Existing student enrolled in class"

**AC5: Pre-fill from Payment Tracking**

- GIVEN staff has entered payment record in Payment Tracking Dashboard
- WHEN staff clicks "Enroll" button from payment record
- THEN:
  - Quick Enrollment Tool opens
  - Form pre-filled with data from payment record:
    - Name, Email, Phone, Package
  - Staff reviews and submits

---

#### Edge Cases

**E1: Multiple Staff Members Creating Same User**

- If Staff A and Staff B create user with same email simultaneously:
  - Use database unique constraint (email)
  - Second request fails with "Email exists"
  - Show warning to second staff member

**E2: Welcome Email Fails**

- If email send fails:
  - Still create user (don't block enrollment)
  - Log error
  - Show warning to staff: "User created, but email failed to send. Please send link manually."
  - Display set-password link for manual sharing

**E3: Invalid Email Format**

- Validate email format before creating user
- Show error: "Invalid email format"

---

#### API Contract

**Endpoint:** `POST /api/staff/enrollment/quick`

**Authorization:** `staff`, `super_admin`

**Request Body:**

```json
{
  "fullName": "Alex Chen",
  "email": "alex@example.com",
  "phoneNumber": "+6281234567890",
  "classId": "class_123",
  "packageType": "10x",
  "paymentStatus": "verified",
  "notes": "Paid via Bank Transfer - Ref: TRX123",
  "generateSetPasswordLink": true,
  "sendWelcomeEmail": true
}
```

**Response (Success - 201 Created):**

```json
{
  "success": true,
  "data": {
    "user": {
      "id": "user_456",
      "email": "alex@example.com",
      "name": "Alex Chen",
      "role": "student"
    },
    "enrollment": {
      "id": "enrollment_789",
      "classId": "class_123",
      "className": "101 React Native - Batch 5",
      "packageType": "10x",
      "status": "active"
    },
    "setPasswordLink": "https://lms.babyowl.com/set-password?token=abc123...",
    "emailSent": true
  }
}
```

---

#### Dependencies

- Module 12 (Classes - need class dropdown)
- Module 23 (Email Notifications - welcome email)
- Story 1.2.4 (Set Password Flow - generate token)

---

#### Test Scenarios

**TS1: Happy Path - Quick Enrollment (New User)**

1. Login as admin
2. Navigate to `/admin/enrollment/quick`
3. Enter name: "Alex Chen"
4. Enter email: "alex@test.com"
5. Select class: "101 React Native - Batch 5"
6. Select package: "20x meetings"
7. Payment status: "Verified"
8. Click "Create & Enroll"
9. Verify success toast
10. Verify summary modal with set-password link
11. Verify user created in database
12. Verify user enrolled in class
13. Verify welcome email sent

**TS2: Quick Enrollment (Existing User)**

1. On Quick Enrollment Tool
2. Enter email of existing user: "sarah@test.com"
3. Select different class: "102 React Native - Advanced"
4. Click "Create & Enroll"
5. Verify warning: "User already exists..."
6. Verify user enrolled in new class (not duplicate user)

---

---

### Story 1.2.4: Set Password Flow (First-Time Login via Link)

**Story Points:** 8  
**Priority:** ğŸ”´ Critical  
**Sprint:** Sprint 2

#### User Story

```
AS A new user whose account was created by admin
I WANT TO set my own password via a secure link
SO THAT I can login to my account
```

#### Acceptance Criteria

**AC1: Welcome Email with Set-Password Link**

- GIVEN staff creates my account
- WHEN the account is created
- THEN I receive welcome email:
  - Subject: "Welcome to LMS Baby Owl - Set Your Password"
  - Greeting: "Hi [Name],"
  - Message: "Your account has been created. Click the link below to set your password and get started:"
  - Set-password link: `https://lms.babyowl.com/set-password?token=<token>`
  - Token valid for: 7 days
  - Security note: "This link will expire in 7 days"
  - Support contact

**AC2: Access Set-Password Page (Valid Token)**

- GIVEN I click the set-password link from email
- WHEN I navigate to `/set-password?token=<token>`
- THEN:
  - API validates token (`GET /api/auth/validate-set-password-token?token=<token>`)
  - If valid â†’ show set-password form
  - If invalid/expired â†’ show error page

**AC3: Set-Password Form Display**

- GIVEN I am on `/set-password` page (valid token)
- WHEN the page loads
- THEN I should see:
  - "Welcome, [Name]!" heading
  - "Set Your Password" subheading
  - Email displayed (read-only): "[email@example.com]"
  - "New Password" input field (password type, masked)
  - "Confirm Password" input field
  - Password strength indicator
  - Password requirements list (same as registration)
  - "Set Password & Login" button
  - Logo and branding

**AC4: Submit Password (Success)**

- GIVEN I enter valid password (meets requirements)
- WHEN I click "Set Password & Login"
- THEN:
  - API call to `POST /api/auth/set-password`
  - Password updated in database (hashed with bcrypt)
  - Set-password token invalidated (deleted)
  - JWT token generated (auto-login)
  - User state stored (Zustand)
  - Redirected to onboarding flow (`/onboarding/welcome`)
  - Success toast: "Password set successfully!"

**AC5: Token Expired (>7 Days)**

- GIVEN the set-password token has expired
- WHEN I try to access the page or submit form
- THEN:
  - Show error: "This link has expired. Please contact support to resend."
  - "Contact Support" button (opens WhatsApp or email)
  - Admin can regenerate token from user management

**AC6: Token Already Used**

- GIVEN I have already set my password
- WHEN I try to use the same link again
- THEN:
  - Show message: "You have already set your password. Please login."
  - "Go to Login" button â†’ redirects to `/login`

---

#### Edge Cases

**E1: Token Invalid (Tampered)**

- If token format invalid or doesn't exist:
  - Show error: "Invalid link. Please contact support."

**E2: User Deleted After Token Generated**

- If admin deletes user before they set password:
  - Token validation fails
  - Show error: "Account not found. Please contact support."

**E3: Password Same as Email**

- If password is same as email (weak):
  - Show warning: "Password should not be same as your email"
  - Still allow (don't block)

**E4: Multiple Set-Password Requests**

- If admin regenerates set-password link:
  - Previous token invalidated (only latest token valid)

---

#### API Contract

**Endpoint 1:** `GET /api/auth/validate-set-password-token?token=<token>`

**Response (Valid - 200 OK):**

```json
{
  "success": true,
  "data": {
    "valid": true,
    "user": {
      "email": "alex@example.com",
      "name": "Alex Chen"
    }
  }
}
```

**Response (Invalid/Expired - 400 Bad Request):**

```json
{
  "success": false,
  "error": {
    "code": "INVALID_TOKEN",
    "message": "Set-password link is invalid or has expired"
  }
}
```

---

**Endpoint 2:** `POST /api/auth/set-password`

**Request Body:**

```json
{
  "token": "abc123...",
  "password": "SecurePass123!"
}
```

**Response (Success - 200 OK):**

```json
{
  "success": true,
  "message": "Password set successfully",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...", // JWT for auto-login
    "user": {
      "id": "user_456",
      "email": "alex@example.com",
      "name": "Alex Chen",
      "role": "student"
    }
  }
}
```

---

#### Dependencies

- Story 1.2.3 (Staff creates account + generates token)
- Module 23 (Email Notifications)
- Database table: `set_password_tokens`

---

#### Test Scenarios

**TS1: Happy Path - Set Password (New User)**

1. Staff creates user account (Story 1.2.3)
2. Check email inbox (alex@test.com)
3. Open welcome email
4. Click "Set Password" link
5. Navigate to `/set-password?token=...`
6. Verify form displays with name + email
7. Enter password: "NewPass123!"
8. Confirm password: "NewPass123!"
9. Click "Set Password & Login"
10. Verify success toast
11. Verify auto-login (JWT stored)
12. Verify redirected to onboarding
13. Try using same link again â†’ "Already set password" message

**TS2: Token Expired**

1. Generate set-password token
2. Manually expire token in database (set expiry to past date)
3. Click link
4. Verify error: "This link has expired"

**TS3: Token Invalid (Tampered)**

1. Get valid set-password link
2. Modify token in URL
3. Navigate to page
4. Verify error: "Invalid link"

---

#### Security Considerations

**S1: Token Storage**

- Store hashed token in database (SHA-256)
- Don't store plaintext token

**S2: Token Expiry**

- 7 days expiry (longer than password reset, as it's for new users)
- Automatically delete expired tokens (cron job)

**S3: Single Use Token**

- After password set, delete token immediately
- Prevent token reuse

**S4: Email Security**

- Use HTTPS for all links
- Token in URL parameter (unavoidable, but secured via HTTPS)

---

---

### Story 1.2.5: Profile Setup (Name, Avatar, Bio)

**Story Points:** 5  
**Priority:** ğŸŸ  High  
**Sprint:** Sprint 2-3

#### User Story

```
AS A registered user
I WANT TO complete my profile (add avatar, bio)
SO THAT I can personalize my account and be recognized by others
```

#### Acceptance Criteria

**AC1: Profile Page Access**

- GIVEN I am logged in
- WHEN I navigate to Settings â†’ Profile (or `/profile`)
- THEN I see my profile page with editable fields

**AC2: Profile Fields**

- Display fields:
  - Avatar (image upload, 150x150px)
  - Full Name (text input)
  - Email (read-only, can't change for MVP)
  - Bio (textarea, max 500 chars)
  - "Save Changes" button

**AC3: Avatar Upload**

- GIVEN I click "Upload Avatar"
- WHEN I select an image file
- THEN:
  - File validated (max 5MB, formats: JPG, PNG, GIF)
  - Image uploaded to S3/Cloudinary
  - Preview shown immediately
  - On "Save Changes", avatar URL saved to user profile

**AC4: Save Profile Changes**

- GIVEN I update name or bio
- WHEN I click "Save Changes"
- THEN:
  - API call to `PUT /api/users/me/profile`
  - Profile updated in database
  - Success toast: "Profile updated successfully"
  - Changes reflected across platform (dashboard, leaderboard, etc.)

---

#### API Contract

**Endpoint:** `PUT /api/users/me/profile`

**Request Body:**

```json
{
  "fullName": "Sarah Ahmad",
  "bio": "Passionate about React Native development. Always learning!",
  "avatar": "https://cdn.babyowl.com/avatars/user_123.jpg"
}
```

**Response (Success - 200 OK):**

```json
{
  "success": true,
  "data": {
    "user": {
      "id": "user_123",
      "fullName": "Sarah Ahmad",
      "bio": "Passionate about React Native development...",
      "avatar": "https://cdn.babyowl.com/avatars/user_123.jpg"
    }
  }
}
```

---

#### Test Scenarios

**TS1: Update Profile**

1. Login as student
2. Navigate to `/profile`
3. Change name to "Sarah A."
4. Add bio: "Learning React Native"
5. Upload avatar image
6. Click "Save Changes"
7. Verify success toast
8. Refresh page â†’ verify changes persisted

---

---

### Story 1.2.6: Onboarding Flow (First-Time User Tutorial)

**Story Points:** 7  
**Priority:** ğŸŸ  High  
**Sprint:** Sprint 3

#### User Story

```
AS A first-time user
I WANT TO see a guided onboarding experience
SO THAT I understand how to use the platform
```

#### Acceptance Criteria

**AC1: Onboarding Trigger**

- GIVEN I just registered or set my password
- WHEN I am redirected after authentication
- THEN I am taken to `/onboarding/welcome` (first step)

**AC2: Onboarding Steps**

**Step 1: Welcome**

- Heading: "Welcome to LMS Baby Owl! ğŸ‰"
- Message: "Let's get you started with a quick tour"
- Illustration/Image
- "Next" button

**Step 2: How It Works**

- Heading: "How It Works"
- Content:
  - "ğŸ“š Browse Courses - Explore our course catalog"
  - "ğŸ“ Enroll & Learn - Complete lessons at your pace"
  - "ğŸ† Earn XP & Badges - Track your progress"
  - "ğŸ‘¨â€ğŸ« Get Instructor Feedback - Assignments graded by experts"
- "Next" button

**Step 3: Dashboard Tour**

- Heading: "Your Dashboard"
- Content: "Here you'll find your courses, progress, and achievements"
- Show screenshot/illustration of dashboard
- "Next" button

**Step 4: Complete**

- Heading: "You're All Set! ğŸš€"
- Message: "Ready to start your learning journey?"
- "Go to Dashboard" button (primary CTA)
- "Browse Courses" button (secondary CTA)

**AC3: Skip Onboarding**

- At any step, user can click "Skip Tour"
- Confirmation: "Are you sure? You can restart this tour anytime from Settings."
- If skipped, redirect to dashboard

**AC4: Onboarding Completion**

- GIVEN I complete all onboarding steps
- WHEN I click "Go to Dashboard"
- THEN:
  - User flag `onboardingCompleted` set to true
  - Won't show onboarding again on next login
  - Redirected to appropriate dashboard (student/instructor/admin)

**AC5: Restart Onboarding (Optional)**

- User can restart onboarding from Settings â†’ Help â†’ "Restart Tutorial"

---

#### Test Scenarios

**TS1: Complete Onboarding**

1. Register new account
2. Verify redirected to `/onboarding/welcome`
3. Click "Next" through all steps (Step 1 â†’ 2 â†’ 3 â†’ 4)
4. Click "Go to Dashboard"
5. Verify redirected to `/student/dashboard`
6. Logout and login again â†’ verify onboarding NOT shown

**TS2: Skip Onboarding**

1. Register new account
2. On Step 2, click "Skip Tour"
3. Confirm skip
4. Verify redirected to dashboard

---

---

## ğŸ“Š Module Summary

### Total Story Points: 38

| Story | Title                                     | Points |
| ----- | ----------------------------------------- | ------ |
| 1.2.1 | Self-Registration                         | 8      |
| 1.2.2 | Email Verification (Optional)             | 5      |
| 1.2.3 | Staff-Created Accounts (Quick Enrollment) | 5      |
| 1.2.4 | Set Password Flow                         | 8      |
| 1.2.5 | Profile Setup                             | 5      |
| 1.2.6 | Onboarding Flow                           | 7      |

---

## âœ… Module Completion Checklist

Module is complete when:

- [ ] All 6 user stories implemented
- [ ] All acceptance criteria met
- [ ] Self-registration working (with validation)
- [ ] Admin can create accounts via Quick Enrollment Tool
- [ ] Set-password flow working (email â†’ set password â†’ auto-login)
- [ ] Profile management functional
- [ ] Onboarding flow implemented (4 steps)
- [ ] Unit tests (>80% coverage)
- [ ] Integration tests (registration â†’ onboarding â†’ dashboard)
- [ ] Email templates designed & tested
- [ ] Accessibility tested (WCAG AA)
- [ ] Mobile responsive
- [ ] Documentation complete

---

**End of Module 2: User Registration & Onboarding**

_Next Module: [Module 3: Course Management â†’](../module-03-course-management/2.1-course-management.md)_
